
 smartition 2014-09-22
var appId="CorsIntegration",serviceModule="CorsIntegration.Services",appControllersId="CorsIntegration.Controllers",mainControllerId="MainController",loginControllerId="LoginController",createAccountsControllerId="CreateAccountController",productsListControllerId="ProductsListController",productDetailsControllerId="ProductDetailsController";!function(){"use strict";var a=angular.module(appId,["ngRoute",appControllersId,"CorsIntegration.Services"]),b=angular.module(serviceModule,[]);angular.module(appControllersId,["CorsIntegration.Services"]),a.config(function(a){a.when("/createLogin",{templateUrl:"../accounts/register/createAccount.html",controller:"CreateAccountController"}).when("/login",{templateUrl:"../accounts/login/login.html",controller:"LoginController"}).when("/products",{templateUrl:"../products/list/productsList.html",controller:"ProductsListController"}).when("/productDetails",{templateUrl:"../products/detail/productDetails.html",controller:"ProductDetailsController"}).otherwise({redirectTo:"/login"})}),b.config(["$httpProvider",function(a){a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",a.defaults.transformRequest=[function(a){var b=function(a){var c,d,e,f,g,h,i,j="";for(c in a)if(d=a[c],d instanceof Array)for(i=0;i<d.length;++i)g=d[i],e=c+"["+i+"]",h={},h[e]=g,j+=b(h)+"&";else if(d instanceof Object)for(f in d)g=d[f],e=c+"["+f+"]",h={},h[e]=g,j+=b(h)+"&";else void 0!==d&&null!==d&&(j+=encodeURIComponent(c)+"="+encodeURIComponent(d)+"&");return j.length?j.substr(0,j.length-1):j};return angular.isObject(a)&&"[object File]"!==String(a)?b(a):a}]}]),a.run(["$q","$rootScope",function(){}])}(),function(){"use strict";var a=angular.module(appControllersId);a.controller(loginControllerId,["$scope","accountsService",function(a,b){var c=a;c.loginData={userName:"",password:""},c.loginUser=function(){b.loginUser(c.loginData).then(function(a){c.isLoggedIn=!0,c.userName=a.userName,c.bearerToken=a.access_token,console.log("loged in")},function(a,b){c.isLoggedIn=!1,console.log(b)})}}])}(),function(){"use strict";var a=angular.module(appControllersId);a.controller(createAccountsControllerId,["$scope","accountsService",function(a,b){var c=a;c.registerUserData={email:"",password:"",confirmPassword:""},c.registerUser=function(){console.log("Llamo bien"),b.registerUser(c.registerUserData).then(function(){c.isRegistered=!0,console.log("User registered")},function(a,b){c.isRegistered=!1,console.log(a),console.log(b)})}}])}(),function(){"use strict";var a=angular.module(appControllersId);a.controller(productDetailsControllerId,["productsService",function(){var a=this;a.loginData={userName:"",password:""},a.loginUser=function(){accountsService.loginUser(a.loginData).then(function(b){a.isLoggedIn=!0,a.userName=b.userName,a.bearerToken=b.access_token,console.log("loged in")},function(b,c){a.isLoggedIn=!1,console.log(c)})}}])}(),function(){"use strict";var a=angular.module(appControllersId);a.controller(productsListControllerId,["productsService",function(){var a=this;a.loginData={userName:"",password:""},a.loginUser=function(){accountsService.loginUser(a.loginData).then(function(b){a.isLoggedIn=!0,a.userName=b.userName,a.bearerToken=b.access_token,console.log("loged in")},function(b,c){a.isLoggedIn=!1,console.log(c)})}}])}(),module.exports=function(a){a.initConfig({pkg:a.file.readJSON("package.json"),jshint:{options:{reporter:require("jshint-stylish")},build:["Grunfile.js","app/**/*.js"]},uglify:{options:{banner:'\n <%= pkg.name %> <%= grunt.template.today("yyyy-mm-dd") %>\n'},build:{files:{"dist/js/smartition.min.js":["app.js","accounts/**/*Controller.js","accounts/**/*Services.js","products/**/*Service.js","products/**/*Controller.js","GruntFile.js"]}}}}),a.loadNpmTasks("grunt-contrib-jshint"),a.loadNpmTasks("grunt-contrib-uglify"),a.loadNpmTasks("grunt-contrib-less"),a.loadNpmTasks("grunt-contrib-cssmin"),a.loadNpmTasks("grunt-contrib-watch")};